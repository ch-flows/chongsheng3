<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.3, maximum-scale=5.0, user-scalable=yes" />
  <title>é‡ç”Ÿ Â· è‹±è¯­</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap');
    
    :root {
      --primary: #667eea;
      --primary-dark: #5a67d8;
      --primary-light: #a3bffa;
      --secondary: #ed8936;
      --accent: #48bb78;
      --text-primary: #2d3748;
      --text-secondary: #718096;
      --bg-primary: #ffffff;
      --bg-secondary: #f7fafc;
      --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.07), 0 1px 3px rgba(0,0,0,0.06);
      --shadow-lg: 0 10px 15px rgba(0,0,0,0.1), 0 4px 6px rgba(0,0,0,0.05);
      --shadow-xl: 0 20px 25px rgba(0,0,0,0.15), 0 10px 10px rgba(0,0,0,0.04);
      --radius: 24px;
      --radius-sm: 16px;
      --transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }

    html {
      height: 100%;
      width: 100%;
      overflow: auto;
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
      -webkit-overflow-scrolling: touch;
    }

    body {
      min-height: 100%;
      width: 100%;
      font-family: 'Inter', 'Noto Serif SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-gradient);
      color: var(--text-primary);
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow: auto;
      touch-action: manipulation;
      padding: 0;
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
      -webkit-overflow-scrolling: touch;
      position: relative;
    }

    .background-fixed {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        linear-gradient(135deg, #667eea 0%, #764ba2 100%),
        radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
      z-index: -2;
      pointer-events: none;
    }

    .app-container {
      width: 100%;
      max-width: 480px;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 16px;
      gap: 16px;
      min-height: auto;
      height: auto;
      flex: 0 1 auto;
      margin: auto;
      position: relative;
      touch-action: pan-y pinch-zoom;
      transform-origin: center center;
      transition: transform 0.3s ease;
      background: transparent;
    }

    .header {
      text-align: center;
      width: 100%;
      padding: 8px 0;
      margin-bottom: 4px;
      transition: var(--transition);
    }

    .logo {
      font-size: 24px;
      font-weight: 700;
      background: linear-gradient(135deg, #ffffff 0%, #f0f4ff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 6px;
      letter-spacing: -0.5px;
      font-family: 'Noto Serif SC', serif;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .motto {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.95);
      margin-bottom: 3px;
      font-family: 'Noto Serif SC', serif;
      font-weight: 500;
      line-height: 1.3;
    }

    .motto-english {
      font-size: 10px;
      color: rgba(255, 255, 255, 0.85);
      font-family: 'Inter', sans-serif;
      font-weight: 500;
      line-height: 1.3;
    }

    .card-container {
      width: 100%;
      height: 200px;
      touch-action: pan-y pinch-zoom;
      position: relative;
      margin: 12px 0;
    }

    #card {
      width: 100%;
      height: 100%;
      background: 
        linear-gradient(
          90deg, 
          var(--primary) 0%, 
          #7c6eea 20%, 
          var(--secondary) 50%, 
          #f6ad55 80%, 
          var(--accent) 100%
        ) top / 100% 12px no-repeat,
        rgba(255, 255, 255, 0.97) 0% 12px / 100% calc(100% - 12px) no-repeat;
      backdrop-filter: blur(20px);
      border-radius: var(--radius);
      padding: 24px 20px;
      text-align: center;
      box-shadow: var(--shadow-xl);
      position: relative;
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: visible;
      border: 1px solid rgba(255, 255, 255, 0.4);
      cursor: pointer;
      -webkit-user-select: none;
      user-select: none;
      touch-action: pan-y pinch-zoom;
    }

    #card:active {
      transform: translateY(-3px) scale(0.995);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    #card-text {
      font-size: 20px;
      line-height: 1.5;
      word-break: break-word;
      font-weight: 600;
      color: var(--text-primary);
      -webkit-user-select: none;
      user-select: none;
      white-space: pre-line;
      font-family: 'Noto Serif SC', serif;
      padding: 0 8px;
      -webkit-user-select: text;
      user-select: text;
      max-width: 100%;
    }

    #star {
      position: absolute;
      top: 12px;
      left: 12px;
      font-size: 18px;
      color: #e2e8f0;
      transition: var(--transition);
      cursor: pointer;
      z-index: 10;
      padding: 5px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.9);
      box-shadow: var(--shadow-md);
      -webkit-user-select: none;
      user-select: none;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #star:active {
      transform: scale(1.2);
    }

    #star.active {
      color: var(--secondary);
      filter: drop-shadow(0 0 12px rgba(237, 137, 54, 0.5));
      animation: starPulse 2s infinite;
    }

    @keyframes starPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .progress-container {
      width: 100%;
      max-width: 400px;
      margin: 8px 0;
    }

    #progress {
      text-align: center;
      font-size: 13px;
      color: rgba(255, 255, 255, 0.95);
      font-weight: 300;
      margin-bottom: 6px;
      letter-spacing: 0.3px;
    }

    .progress-bar {
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 4px;
      overflow: hidden;
      box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary-light) 0%, white 100%);
      border-radius: 4px;
      transition: width 0.8s cubic-bezier(0.22, 0.61, 0.36, 1);
      position: relative;
      overflow: hidden;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
      animation: shimmer 2.5s infinite;
    }

    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    .controls {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 12px;
      padding: 8px 0;
      margin-top: 12px;
    }

    .btn-row {
      display: flex;
      gap: 10px;
      width: 100%;
      justify-content: center;
    }

    .btn {
      height: 48px;
      min-width: 56px;
      flex: 1;
      font-size: 12px;
      font-weight: 600;
      border: none;
      border-radius: var(--radius-sm);
      background: rgba(255, 255, 255, 0.18);
      backdrop-filter: blur(15px);
      color: white;
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 0;
      padding: 0 8px;
      cursor: pointer;
      box-shadow: var(--shadow-md);
      position: relative;
      overflow: hidden;
      -webkit-user-select: none;
      user-select: none;
      touch-action: manipulation;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.1) 100%);
      opacity: 0;
      transition: var(--transition);
    }

    .btn:active::before {
      opacity: 1;
    }

    .btn:active {
      transform: translateY(-2px) scale(0.98);
      box-shadow: var(--shadow-lg);
    }

    .btn-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      z-index: 2;
      position: relative;
    }

    .btn-icon {
      font-size: 18px;
      transition: var(--transition);
      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
      font-weight: 300;
      font-family: system-ui, -apple-system, sans-serif;
    }

    /* é‡ç½®æŒ‰é’®çš„SVGå›¾æ ‡æ ·å¼ */
    .reset-icon-svg {
      width: 20px;
      height: 20px;
      fill: rgba(255, 255, 255, 0.85);
      stroke: none;
    }

    .reset-icon-svg rect {
      width: 1.2px;
      height: 8px;
      y: 8;
    }

    .btn-text {
      display: none;
    }

    .btn-primary {
      background: rgba(255, 255, 255, 0.25);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    /* ç¼©æ”¾æ§åˆ¶æŒ‰é’® */
    .zoom-controls {
      position: fixed;
      bottom: 15px;
      right: 15px;
      display: flex;
      flex-direction: row;
      gap: 2px;
      z-index: 1000;
    }

    .zoom-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      border: none;
      color: white;
      font-size: 18px;
      font-weight: 300;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow-md);
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .zoom-btn:active {
      transform: scale(0.9);
      background: rgba(255, 255, 255, 0.35);
    }

    .zoom-indicator {
      position: fixed;
      top: 15px;
      right: 15px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 6px 10px;
      border-radius: 16px;
      font-size: 12px;
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    /* å“åº”å¼æ ·å¼ */
    @media (max-width: 360px) {
      .app-container {
        padding: 16px 12px;
        gap: 14px;
      }
      
      .logo {
        font-size: 22px;
      }
      
      .motto {
        font-size: 10px;
      }
      
      .motto-english {
        font-size: 9px;
      }
      
      .card-container {
        height: 190px;
      }
      
      #card-text {
        font-size: 18px;
      }
      
      .btn {
        height: 46px;
      }
      
      .btn-icon {
        font-size: 16px;
      }
      
      .reset-icon-svg {
        width: 18px;
        height: 18px;
      }
      
      .zoom-controls {
        bottom: 10px;
        right: 10px;
        gap: 2px;
      }
      
      .zoom-btn {
        width: 32px;
        height: 32px;
        font-size: 16px;
        font-weight: 300;
      }
      
      .zoom-indicator {
        top: 10px;
        right: 10px;
        font-size: 11px;
        padding: 5px 8px;
      }
      
      #progress {
        font-weight: 300;
      }
    }

    @media (min-width: 768px) and (max-width: 1024px) {
      html, body {
        overflow: auto;
        height: auto;
        min-height: 100vh;
        justify-content: flex-start;
      }
      
      .app-container {
        max-width: 90%;
        width: 90%;
        padding: 30px 20px;
        gap: 20px;
        transform: none !important;
        flex: 0 1 auto;
        margin: 20px auto;
        min-height: auto;
      }
      
      .header {
        padding: 15px 0;
        margin-bottom: 10px;
      }
      
      .logo {
        font-size: 32px;
        margin-bottom: 8px;
      }
      
      .motto {
        font-size: 14px;
      }
      
      .motto-english {
        font-size: 13px;
      }
      
      .card-container {
        height: 250px;
        margin: 15px 0;
      }
      
      #card {
        padding: 30px 25px;
      }
      
      #card-text {
        font-size: 24px;
        padding: 0 15px;
      }
      
      #star {
        top: 18px;
        left: 18px;
        font-size: 22px;
        padding: 8px;
        width: 38px;
        height: 38px;
      }
      
      .progress-container {
        margin: 12px 0;
      }
      
      #progress {
        font-size: 15px;
        margin-bottom: 8px;
        font-weight: 300;
      }
      
      .progress-bar {
        height: 6px;
      }
      
      .controls {
        gap: 15px;
        padding: 12px 0;
        margin-top: 15px;
      }
      
      .btn-row {
        gap: 12px;
      }
      
      .btn {
        height: 55px;
        min-width: 65px;
        padding: 0 12px;
      }
      
      .btn-icon {
        font-size: 22px;
        font-weight: 300;
      }
      
      .reset-icon-svg {
        width: 22px;
        height: 22px;
      }
      
      .zoom-controls {
        bottom: 20px;
        right: 20px;
        gap: 2px;
      }
      
      .zoom-btn {
        width: 40px;
        height: 40px;
        font-size: 20px;
        font-weight: 300;
      }
      
      .zoom-indicator {
        top: 20px;
        right: 20px;
        font-size: 14px;
        padding: 8px 12px;
      }
    }

    @media (min-width: 1025px) {
      .app-container {
        max-width: 700px;
        padding: 40px 50px;
        gap: 24px;
      }
      
      .header {
        padding: 16px 0;
        margin-bottom: 12px;
      }
      
      .logo {
        font-size: 42px;
        margin-bottom: 10px;
      }
      
      .motto {
        font-size: 18px;
      }
      
      .motto-english {
        font-size: 16px;
      }
      
      .card-container {
        height: 320px;
        margin: 20px 0;
      }
      
      #card {
        padding: 50px 45px;
        border-radius: 28px;
      }
      
      #card-text {
        font-size: 32px;
        padding: 0 16px;
      }
      
      #star {
        top: 24px;
        left: 24px;
        font-size: 28px;
        padding: 10px;
        width: 48px;
        height: 48px;
      }
      
      .progress-container {
        margin: 16px 0;
      }
      
      #progress {
        font-size: 18px;
        margin-bottom: 10px;
        font-weight: 300;
      }
      
      .progress-bar {
        height: 8px;
      }
      
      .controls {
        gap: 20px;
        padding: 16px 0;
        margin-top: 20px;
      }
      
      .btn-row {
        gap: 16px;
      }
      
      .btn {
        height: 68px;
        min-width: 90px;
        padding: 0 16px;
        border-radius: 22px;
      }
      
      .btn-icon {
        font-size: 28px;
        font-weight: 300;
      }
      
      .reset-icon-svg {
        width: 26px;
        height: 26px;
      }
      
      .zoom-controls {
        bottom: 25px;
        right: 25px;
        gap: 2px;
      }
      
      .zoom-btn {
        width: 44px;
        height: 44px;
        font-size: 22px;
        font-weight: 300;
      }
      
      .zoom-indicator {
        top: 25px;
        right: 25px;
        font-size: 16px;
        padding: 10px 14px;
      }
    }
  </style>
</head>
<body>
  <!-- å›ºå®šçš„èƒŒæ™¯å±‚ -->
  <div class="background-fixed"></div>
  
  <!-- ç¼©æ”¾æŒ‡ç¤ºå™¨ -->
  <div class="zoom-indicator" id="zoomIndicator">100%</div>
  
  <!-- ç¼©æ”¾æ§åˆ¶æŒ‰é’® -->
  <div class="zoom-controls">
    <button class="zoom-btn" id="zoomOutBtn">-</button>
    <button class="zoom-btn" id="zoomInBtn">+</button>
  </div>
  
  <div class="app-container" id="appContainer">
    <div class="header">
      <div class="logo">é‡ç”Ÿ Â· è‹±è¯­</div>
      <div class="motto">ä¸æ˜¯èƒŒï¼Œæ˜¯è®©å®ƒé•¿è¿›æ°”æ¯ï¼Œæˆä¸ºä½ è‡ªå·±çš„å‘¼å¸ã€‚</div>
      <div class="motto-english">Not memorized. Grown into your breath.</div>
    </div>
    
    <div class="card-container">
      <div id="card">
        <div id="star">â˜…</div>
        <div id="card-text">å½“æ¥åˆ°æŒ‡ç¤ºæ—¶</div>
        <!-- å·²ç§»é™¤è¯­è¨€æŒ‡ç¤ºå™¨ -->
      </div>
    </div>
    
    <div class="progress-container">
      <div id="progress">1 / 550</div>
      <div class="progress-bar">
        <div class="progress-fill" style="width: 0.2%"></div>
      </div>
    </div>
    
    <div class="controls">
      <div class="btn-row">
        <button class="btn" id="resetBtn" title="å›åˆ°ç¬¬ä¸€å¼ ">
          <div class="btn-content">
            <svg class="reset-icon-svg" viewBox="0 0 24 24">
              <rect x="3" y="8" width="1.2" height="8" fill="currentColor"/>
              <polygon points="10,8 6,12 10,16" fill="currentColor"/>
              <polygon points="16,8 12,12 16,16" fill="currentColor"/>
            </svg>
          </div>
        </button>
        <button class="btn" id="shuffleBtn" title="éšæœºæ’åº">
          <div class="btn-content">
            <span class="btn-icon">â‡„</span>
          </div>
        </button>
        <button class="btn" id="starBtn" title="æ”¶è—">
          <div class="btn-content">
            <span class="btn-icon">â˜…</span>
          </div>
        </button>
        <button class="btn" id="bookmarksBtn" title="æŸ¥çœ‹æ”¶è—">
          <div class="btn-content">
            <span class="btn-icon">ğŸ”–</span>
          </div>
        </button>
      </div>
      <div class="btn-row">
        <button class="btn btn-primary" id="prevBtn" title="ä¸Šä¸€å¼ ">
          <div class="btn-content">
            <span class="btn-icon">â†</span>
          </div>
        </button>
        <button class="btn btn-primary" id="nextBtn" title="ä¸‹ä¸€å¼ ">
          <div class="btn-content">
            <span class="btn-icon">â†’</span>
          </div>
        </button>
      </div>
    </div>
  </div>

  <script>
    // å®Œæ•´çš„è‹±è¯­çŸ­è¯­æ•°æ®ï¼ˆ275ä¸ªçŸ­è¯­ï¼‰
    const englishPhrases = [
      ["å½“æ¥åˆ°æŒ‡ç¤ºæ—¶", "when instructed"],
      ["å¦‚æœå¯èƒ½çš„è¯", "if possible"],
      ["åƒä¸‡åˆ«å°çœ‹è¿™ä¸ªæ–¹æ³•", "never underestimate this method"],
      ["æˆ‘å®Œå…¨æ”¯æŒ", "i'm all for it"],
      ["è¿™éœ€è¦å‹‡æ°”", "that took courage"],
      ["è¯è™½å¦‚æ­¤ï¼Œâ€¦â€¦", "having said that, â€¦"],
      ["å®Œå…¨å¯ä»¥ç†è§£", "it's completely understandable"],
      ["è¿™å¾—çœ‹å…·ä½“æƒ…å¢ƒ", "it depends on the context"],
      ["ç›´è¯‘/å­—é¢ç¿»è¯‘", "a literal translation"],
      ["åœ¨ç‰¹å®šçš„è¯­å¢ƒ", "in a specific context"],
      ["æŠŠå£é¦™ç³–åå‡ºæ¥", "spit out the gum"],
      ["ä¸¥æ ¼è¯´æ¥ç•ªèŒ„æ˜¯æ°´æœ", "technically a tomato is a fruit"],
      ["ä½ è¯´å¾—æœ‰é“ç†", "that makes sense"],
      ["é‚£ä¸€å®šå¾ˆéš¾ç†¬", "that must be really tough"],
      ["ä½ ä¸å¯ç†å–»", "you're impossible"],
      ["åˆ«é€¼æˆ‘å‘ç«", "don't test my patience"],
      ["åˆ«å¤ªåœ¨æ„", "don't take it to heart"],
      ["æˆ‘æœ‰ä¸€ä¸ªæ¡ä»¶", "i have one condition"],
      ["éƒ½äº¤ç»™æˆ‘å§", "leave it all to me"],
      ["åˆ«æƒ¹å¥¹ç”Ÿæ°”", "don't make her angry"],
      ["åªæ˜¯æƒ³æ¿€åŠ±ä½ ", "just to motivate you"],
      ["ä¸è¦æ‰“æ‰°åˆ°åˆ«äºº", "don't disturb others"],
      ["ä½ è¡Œçš„", "you've got this"],
      ["åŠæ³•æ€»æ¯”é—®é¢˜å¤š", "there's always a way"],
      ["æˆ‘ä»¬å°±èƒ½å¾—åˆ†äº†", "we can score"],
      ["æˆ‘ä»¬æ—¶é—´ä¸å¤šäº†", "we don't have much time"],
      ["èƒ½å¼€é˜”çœ¼ç•Œ", "can broaden your horizons"],
      ["å®Œå…¨å‡ºä¹æˆ‘çš„æ„æ–™", "completely beyond my expectations"],
      ["è¿™æ˜¯æŠŠåŒåˆƒå‰‘", "it's a double-edged sword"],
      ["è¿™æ˜¯ä¸€ä¸ªå¾ˆé«˜çš„è¯„ä»·", "that's a really high compliment"],
      ["ä»–ä»¬æ²¡æŒ‰å¥½å¿ƒ", "they're up to no good"],
      ["ä»–ä»¬ç¬‘å¾—å¤ªå‡äº†", "that smile wasn't genuine"],
      ["æ¯”æˆ‘é¢„æœŸçš„è¦å¥½", "better than i expected"],
      ["çœŸçš„å€¼å¾—å—", "is it really worth it"],
      ["ç›®å‰çš„æƒ…å†µ", "the current situation"],
      ["ä¸æ€ªåˆ«äºº", "no one else is to blame"],
      ["ç›´æ¥å’Œå¥¹è°ˆ", "talk to her directly"],
      ["è¿›å…¥å†³èµ›", "reaching the finals"],
      ["æˆ‘å–œæ¬¢å¬ä½ è®²", "i enjoy listening to you"],
      ["æˆ‘æ˜ç™½ä½ çš„æ„æ€", "i see what you mean"],
      ["åˆ«ä¸å½“å›äº‹", "don't take it lightly"],
      ["åˆ«å¤ªè¾ƒçœŸ", "don't take it too seriously"],
      ["è¿™æ¬¡å°±ç®—äº†", "i'll let it go this time"],
      ["ä½†ä¸‹ä¸ä¸ºä¾‹", "but don't let it happen again"],
      ["æƒ…å†µä¸¥é‡äº†", "the situation has gotten serious"],
      ["æœ‰ä¸ªæ€æƒ³å‡†å¤‡å§", "be mentally prepared"],
      ["æ˜¯æ—¶å€™æ”¾ä¸‹è¿‡å»äº†", "it's time to move on"],
      ["äº¤ç»™ä½ ï¼Œæˆ‘å¾ˆæ”¾å¿ƒ", "i'm confident leaving this to you"],
      ["å‡ ä¹æ²¡ç¡è§‰", "barely slept"],
      ["æˆ‘ä¸€ç›´æ²¡å¼„æ˜ç™½", "i still can't figure it out"],
      ["å…‘ç°æˆ‘ä»¬çš„æ‰¿è¯º", "deliver on our promises"],
      ["è¿™ä¸ªåº§ä½æœ‰äººåå—", "is this seat taken"],
      ["æœ‰ä¸¤ä¸‹å­", "you've got some skills"],
      ["è½¬å¿µä¸€æƒ³", "on second thought"],
      ["æˆ‘å¯æ²¡è¿™ä¹ˆè¯´", "i didn't say that"],
      ["ä¸è¦èƒ¡ä¹±å›ç­”", "don't give random answers"],
      ["åˆ«æ‹¿æˆ‘å¼€ç©ç¬‘", "don't make fun of me"],
      ["ä»–ä»¬æ²¡æœ‰æ¶æ„", "they mean no harm"],
      ["æ›´ä¾§é‡äºè´¨é‡", "more focused on quality"],
      ["ä½ æ²¡æœ‰çœ‹åˆ°å—", "didn't you see that"],
      ["å¥½è¿‡æ²¡æœ‰", "better than nothing"],
      ["è¿™æ‹›æŒºç®¡ç”¨", "this trick works pretty well"],
      ["åœ¨æˆªæ­¢æ—¥å‰", "before the deadline"],
      ["é—®é¢˜å¯èƒ½ä¼šæ¶åŒ–", "the problem could get worse"],
      ["å¯èƒ½ä¼šå‡ºç°å‰¯ä½œç”¨", "side effects may occur"],
      ["æ˜¯ä»¶äº†ä¸èµ·çš„äº‹", "was a big deal"],
      ["ä»–åªæƒ³ç€è‡ªå·±", "only cares about himself"],
      ["ä½ èƒ½ç«™åœ¨æˆ‘çš„ç«‹åœºæƒ³å—", "can you put yourself in my shoes"],
      ["äº‹æƒ…çš„æ¥é¾™å»è„‰", "the whole story"],
      ["åˆ«æ€¥ç€ä¸‹ç»“è®º", "don't jump to conclusions"],
      ["åªæ˜¯ç‰‡é¢çš„è¯´æ³•", "just one side of it"],
      ["æˆ‘çŸ¥é“ä½ å¾ˆç”¨å¿ƒ", "i know you really care"],
      ["è¿™å¯¹æˆ‘å¾ˆé‡è¦", "it means a lot to me"],
      ["æ‰€ä»¥ä½ æ‰ä¼šéš¾è¿‡", "that's why you're upset"],
      ["ä¸æƒ³äº‰ä¸‹å»äº†", "don't want to keep arguing"],
      ["æˆ‘å¾ˆæ„Ÿæ¿€", "i really appreciate that"],
      ["æˆ‘æ— æ‰€è°“äº†", "i don't mind"],
      ["ä½ å†³å®šå§", "up to you"],
      ["ä»–çä¸€åªçœ¼é—­ä¸€åªçœ¼", "he turns a blind eye"],
      ["ä¼°è®¡å‡ºå•¥äº‹å„¿äº†", "reckon something's up"],
      ["é‚£å°±æ˜¯æ•…æ„æŒ‘äº‹", "that's just ragebait"],
      ["åˆ«ä¸Šé’©", "don't fall for it"],
      ["é€šè¯»ä¸€éå…¨æ–‡", "read through the whole text"],
      ["å¯èƒ½ä¼šæœ‰é£é™©", "it could be risky"],
      ["å¤ªè¿‡çº ç»“äºç»†èŠ‚", "too focused on small details"],
      ["å¿½ç•¥äº†å…¨å±€", "not seeing the big picture"],
      ["å°±åœ¨å½“å¤©ä¸‹åˆ", "that very afternoon"],
      ["æˆ‘ä»¬ä¸Šåˆè§é¢äº†", "we met in the morning"],
      ["è¿™äº‹åˆ«æŒ‡æœ›ä»–", "don't count on him for this"],
      ["ä»–æ€è·¯æ¸…æ™°", "he's very logical"],
      ["ä»–æ€»èƒ½è®²å‡ºé“ç†æ¥", "he always makes sense"],
      ["æˆ‘æ²¡æœ‰å¼‚è®®", "i have no objection"],
      ["å¹¶æ²¡æœ‰é‚£ä¹ˆéš¾", "it's not that difficult"],
      ["å¥¹æ³ªæµæ»¡é¢", "she burst into tears"],
      ["ç®€å•è¯´å‡ å¥", "just a few quick words"],
      ["å’Œä»¥å‰ç›¸æ¯”", "compared to before"],
      ["å·®ç‚¹æ²¡è®¤å‡ºä½ æ¥", "almost didn't recognize you"],
      ["æ—¶é—´å¤šçš„æ˜¯", "he's got plenty of time"],
      ["æ¢å¤äº†æ­£å¸¸", "returned to normal"],
      ["ä»–å‡è£…æ²¡äº‹", "he pretended to be fine"],
      ["åˆ«è¿™ä¹ˆè¯´", "don't say that"],
      ["ä½ è¯´æ˜¯å°±æ˜¯å§", "if you say so"],
      ["ä»æ¥æ²¡å¬è¯´è¿‡", "never heard of it"],
      ["ç–¼æ­»äº†", "it hurt a lot"],
      ["æ¯«æ— ç–‘é—®", "without a doubt"],
      ["å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯", "if all goes well"],
      ["ä½ å¥½å¤§çš„èƒ†å­", "how dare you"],
      ["ä½ å¼„ç–¼æˆ‘äº†", "you're hurting me"],
      ["å¤Ÿäº†ï¼Œåˆ«å†è¯´äº†", "i've heard enough"],
      ["ä¼šæº…å‡ºæ¥çš„", "it'll splash"],
      ["è¿‡æ¥åƒç‚¹", "come and have some"],
      ["åˆšå¼€å§‹å¾ˆéš¾", "it was hard at first"],
      ["ä½ çœ‹èµ·æ¥å¿ƒäº‹é‡é‡", "you look worried"],
      ["æœ€å¥½åˆ«å†’é™©", "better not to risk it"],
      ["å¬èµ·æ¥æœ‰ç‚¹ä¹±", "it sounds confusing"],
      ["åˆ«ç®¡ç»†èŠ‚äº†", "forget the details"],
      ["ç†æ™ºä¸€ç‚¹å§", "please be sensible"],
      ["è¿™å¯æ˜¯ä½ è¯´çš„", "you said it yourself"],
      ["ä½ æ€»æ˜¯éšå¤§æµ", "you always follow the crowd"],
      ["ä¸“æ³¨äºç›®æ ‡", "stay focused on your goals"],
      ["é‚£å°±å«ç³Šç‚¹å›ç­”", "then just keep it vague"],
      ["å®Œå…¨æ²¡æœ‰å¯Ÿè§‰", "didn't notice at all"],
      ["å¾ˆå®¹æ˜“è¢«è¯¯å¯¼", "can be easily misled"],
      ["è¯´å¤Ÿäº†å§", "enough said"],
      ["å¥½é™©å•Š", "that was close"],
      ["è·Ÿå¤§å®¶è¯´ä¸€å£°", "keeping you all in the loop"],
      ["çœŸçš„æ²¡ä»€ä¹ˆå¤§ä¸äº†çš„", "it's no big deal"],
      ["ç»“æœåæ‚”äº†", "ended up regretting it"],
      ["ä½ ååº”è¿‡åº¦äº†", "you're overreacting"],
      ["ç»™æˆ‘ä¸€ç‚¹æ—¶é—´", "give me a second"],
      ["æˆ‘æ¥å¤„ç†", "let me handle it"],
      ["è‡ªå–å…¶è¾±", "make a fool of yourself"],
      ["è¨€è¡Œä¸ä¸€", "say one thing and do another"],
      ["æˆ‘å¾ˆæœŸå¾…", "i'm looking forward to it"],
      ["é—®é¢˜ä¸åœ¨è¿™é‡Œ", "this isn't the issue"],
      ["è¿˜æ²¡å¼„å¥½å‘¢", "it's not ready yet"],
      ["é‚£åªæ˜¯ä½ çš„åè§", "that's just your bias"],
      ["è¿˜åœ¨è€ƒè™‘", "still thinking about it"],
      ["è¿™ä¸ªä¹Ÿéœ€è¦å›ç­”", "this one also needs a response"],
      ["å¤±è´¥æ²¡ä»€ä¹ˆå¤§ä¸äº†çš„", "failure is no big deal"],
      ["ä¹Ÿæ˜¯è¦ä¸å¾—çš„", "that's also unacceptable"],
      ["ä½ å¤ªè¿‡ç†æ€§äº†", "you're being too logical"],
      ["ä½ åˆé’»ç‰›è§’å°–äº†", "here you go overthinking again"],
      ["ä¸å¦¨ä¸€è¯•", "why not give it a try"],
      ["è¿™ä¹Ÿå¤ªä¸¥äº†å§", "that's way too strict"],
      ["å¤ªä¸è¿‘äººæƒ…äº†", "that's so inconsiderate"],
      ["é€šèä¸€ä¸‹å‘—", "cut me some slack"],
      ["èŠå¾—å¾ˆæŠ•æœº", "we really hit it off"],
      ["è¿™ä¸ªé€‰æ‹©æ˜¯æœ€æ˜æ™ºçš„", "this choice is the wisest"],
      ["ç”Ÿæ´»å……æ»¡å˜æ•°", "life is full of uncertainties"],
      ["ç”Ÿæ´»æ€»æœ‰èµ·ä¼", "life has its ups and downs"],
      ["æœºä¼šç¨çºµå³é€", "opportunities come and go"],
      ["ä½ å¾ˆæœ‰ä¸Šè¿›å¿ƒ", "you are highly motivated"],
      ["æ²¡æœ‰äººå¤©ç”Ÿå°±å‰å®³", "no one is born great"],
      ["ä¸€åˆ‡çš†æœ‰å¯èƒ½", "anything is possible"],
      ["ä½ çš„åŠªåŠ›ä¸ä¼šç™½è´¹", "your hard work will pay off"],
      ["æŒ‘æˆ˜ä½ çš„æé™", "test your limits"],
      ["éœ€è¦æœ‰äººç«™å‡ºæ¥", "need someone to step up"],
      ["ä½ æ€ä¹ˆä¸åƒ", "how come you're not eating"],
      ["ä¿æŒå¼€æ”¾å¿ƒæ€", "maintain an open mind"],
      ["ä¹ä¸€å¬å¾ˆå¥‡æ€ª", "it sounds weird at first"],
      ["æˆ‘æ‰æ„è¯†åˆ°", "i just realized"],
      ["ä¸å¤ª / ç®—ä¸ä¸Š", "not really"],
      ["ä½ å®Œå…¨è·‘é¢˜äº†", "you're way off topic"],
      ["æˆ‘ä¸ä¿¡", "i'm not buying it"],
      ["å‡ºå‘ç‚¹æ˜¯å¥½çš„", "the intention was good"],
      ["æˆ‘æ²¡é—®é¢˜", "that works for me"],
      ["é‚£ä»¶äº‹æˆ‘åšä¸åˆ°", "that's not something i can do"],
      ["è¿™äº‹æˆ‘ç¨åå†ç­”å¤ä½ ", "i'll get back to you on that"],
      ["è¿™äº‹åšå†³ä¸è¡Œ", "that's a hard no"],
      ["åˆ«æ…Œ", "let's not panic"],
      ["åœ¨æˆ‘çœ‹æ¥ï¼Œâ€¦â€¦", "from my perspective, â€¦"],
      ["é‚£ä¸æ˜¯æˆ‘å–œæ¬¢çš„", "that's not my cup of tea"],
      ["è¯´èµ·æ¥å®¹æ˜“åšèµ·æ¥éš¾", "easier said than done"],
      ["æ…¢æ…¢æ¥ï¼Œä¸ç€æ€¥", "take your time"],
      ["æˆ‘åœ¨è¿™å„¿æ”¯æŒä½ ", "i'm here for you"],
      ["ä½ ä¸æ˜¯ä¸€ä¸ªäººé¢å¯¹", "you're not alone in this"],
      ["ä½ å¯ä»¥è¿™æ ·æƒ³", "think of it this way"],
      ["è¿™æ˜¯é¢ è¦†æ€§çš„", "that's a game-changer"],
      ["æˆ‘ä»¬æ¢ä¸ªè§’åº¦çœ‹çœ‹", "let's look at this differently"],
      ["è¿™è¯æœ‰ä¸€å®šé“ç†", "there's some truth in that"],
      ["æˆ‘ç†è§£ä½ çš„å‡ºå‘ç‚¹", "i see where you're coming from"],
      ["ä½ è¶Šè¿‡äº†æˆ‘çš„åº•çº¿", "you crossed my boundary"],
      ["æˆ‘è¿˜æ˜¯ä¸äº†", "i'd rather not"],
      ["è¿™ä¸æ˜¯æˆ‘çš„è´£ä»»", "that's not on me"],
      ["æˆ‘æœ‰æƒè¯´\"ä¸\"", "i have every right to say no"],
      ["åˆ«é“å¾·ç»‘æ¶æˆ‘", "don't guilt-trip me"],
      ["è¯·åˆ«å†æè¿™ä»¶äº‹äº†", "please drop it"],
      ["æˆ‘ä¸ä¼šæ”¹å˜ä¸»æ„", "i'm not changing my mind"],
      ["è¿™ä¸ç¬¦åˆæˆ‘çš„åŸåˆ™", "that goes against my values"],
      ["æˆ‘æ‹’ç»å‚ä¸", "i'm opting out"],
      ["åˆ«è¯•æ¢æˆ‘çš„åº•çº¿", "don't test my limits"],
      ["æˆ‘ä¸æ¥å—è¿™ç§è¯­æ°”", "i won't accept that tone"],
      ["æˆ‘ä¸æƒ³å·å…¥è¿™ä»¶äº‹", "i don't want to get involved"],
      ["è¿™å¯¹æˆ‘æ˜¯ä¸€ç§å†’çŠ¯", "that feels offensive to me"],
      ["è¿™ä¸æ˜¯æˆ‘èƒ½å¦¥åçš„åœ°æ–¹", "this is non-negotiable for me"],
      ["æˆ‘ä¸ä¼šå®¹å¿è¿™ç§è¡Œä¸º", "i won't tolerate this behavior"],
      ["è®¤çœŸå¯¹å¾…æˆ‘çš„æ„Ÿå—", "take my feelings seriously"],
      ["æˆ‘æ´—è€³æ­å¬", "i'm all ears"],
      ["éœ€è¦æˆ‘åšç‚¹ä»€ä¹ˆå—", "is there anything i can do"],
      ["åˆ«å¤ªè‹›åˆ»åœ°å¯¹å¾…è‡ªå·±", "don't be so hard on yourself"],
      ["ä½ çš„åŠªåŠ›æˆ‘çœ‹åˆ°äº†", "i see how hard you're trying"],
      ["è¿™ä¸æ˜¯ä½ çš„é”™", "this isn't your fault"],
      ["æˆ‘ä»¬ä¸€èµ·æƒ³åŠæ³•", "we'll figure it out together"],
      ["æˆ‘ç›¸ä¿¡ä½ çš„åˆ¤æ–­", "i trust your judgment"],
      ["åœ¨äººç¾¤ä¸­è„±é¢–è€Œå‡º", "stand out from the crowd"],
      ["æˆ‘ä¸ºä½ æ„Ÿåˆ°éª„å‚²", "i'm proud of you"],
      ["æƒè¡¡åˆ©å¼Šä¹‹åï¼Œâ€¦â€¦", "after weighing the pros and cons, â€¦"],
      ["çœŸæ­£é‡è¦çš„æ˜¯â€¦â€¦", "what truly matters isâ€¦"],
      ["ä¸è¿‡ï¼Œæˆ‘æƒ³è¡¥å……ä¸€ç‚¹â€¦â€¦", "however, i'd like to addâ€¦"],
      ["ä»å¦ä¸€ä¸ªè§’åº¦çœ‹ï¼Œâ€¦â€¦", "from another angle, â€¦"],
      ["æˆ‘ä»¬æ¥æ¢è®¨è¿™ä¸ªæƒ³æ³•", "let's explore that idea"],
      ["æˆ‘æ¢ä¸ªè¯´æ³•", "let me rephrase that"],
      ["è¿™ä¸æ˜¯é’ˆå¯¹ä½ ", "it's not personal"],
      ["è®©æˆ‘ä»¬å…ˆæ¾„æ¸…ä¸€ä¸‹äº‹å®", "let's clarify the facts first"],
      ["æˆ‘åŒæ„ä½ çš„éƒ¨åˆ†è§‚ç‚¹", "i agree with part of what you're saying"],
      ["ä¸è¿‡ï¼Œæ•°æ®å‘Šè¯‰æˆ‘ä»¬â€¦â€¦", "however, the data suggestsâ€¦"],
      ["è¿™ä¸ªå‡è®¾å¯èƒ½ä¸æˆç«‹", "that assumption might not hold"],
      ["è¿™å’Œå®é™…æƒ…å†µæœ‰äº›å‡ºå…¥", "that doesn't quite match reality"],
      ["ä½ è¯´å¾—å¯¹ï¼Œä½†â€¦â€¦", "you're right, butâ€¦"],
      ["æˆ‘ä»¬æˆ–è®¸å¿½ç•¥äº†æŸä¸ªå…³é”®ç‚¹", "we might be missing a key point"],
      ["è¿™ä¸ªç±»æ¯”ä¸å¤ªæ°å½“", "that analogy doesn't quite work"],
      ["è®©æˆ‘ä»¬å›åˆ°æ ¸å¿ƒé—®é¢˜", "let's get back to the core issue"],
      ["æˆ‘ä¸å®Œå…¨åŒæ„", "i don't fully agree"],
      ["å°½ç®¡é‡åˆ°äº†æŒ«æŠ˜", "despite the setback"],
      ["æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸€è‡´çš„", "we're on the same page about the goal"],
      ["é‡ç‚¹ä¸æ˜¯è°å¯¹è°é”™ï¼Œè€Œæ˜¯æ€ä¹ˆè§£å†³", "it's not about who's rightâ€”it's about how to fix it"],
      ["æˆ‘ä»¬åˆ†æ­¥éª¤æ¥", "let's take it step by step"],
      ["éœ€è¦ç®€åŒ–æµç¨‹", "should simplify the process"],
      ["çŠ¯é”™æ˜¯å­¦ä¹ çš„ä¸€éƒ¨åˆ†", "mistakes are part of learning"],
      ["ä¸€æ­¥ä¸€æ­¥æ¥", "one step at a time"],
      ["ä¸“æ³¨ä½ èƒ½æŒæ§çš„", "focus on what you can control"],
      ["ä»å¤±è´¥ä¸­å¸å–æ•™è®­", "learn from failure"],
      ["æˆ‘æ„Ÿåˆ°ä¸å ªé‡è´Ÿ", "i'm feeling overwhelmed"],
      ["æˆ‘éœ€è¦æš‚åœä¸€ä¸‹", "i need to pause for a moment"],
      ["ä¸è¦ç»™æˆ‘æ‰£å¸½å­", "don't label me"],
      ["è¯¦ç»†é˜è¿°ä½ çš„è§‚ç‚¹", "elaborate on your point"],
      ["æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹", "every day is a fresh start"],
      ["å¤±è´¥å¹¶ä¸å¯æ€•", "failure isn't scary"],
      ["å¦‚æœä¸é‡‡å–æªæ–½", "if nothing is done"],
      ["æˆ‘ä¹Ÿåšä¸äº†ä»€ä¹ˆ", "there's nothing i can do"],
      ["ä»ç—›è‹¦ä¸­èµ°å‡ºæ¥", "get over the pain"],
      ["å¾ˆéš¾æ„ŸåŒèº«å—", "it's hard to truly understand"],
      ["æå«ä½ çš„åº•çº¿", "stand up for your boundaries"],
      ["ä»ä¸å¾€å¿ƒé‡Œå»", "never takes it personally"],
      ["äº‹æ•™äººä¸€æ¬¡è¶³çŸ£", "one lesson was enough"],
      ["æŠ½ç©ºé™ªé™ªå®¶äºº", "make time for your family"],
      ["çæƒœç”Ÿæ´»ä¸­çš„å°ç¡®å¹¸", "cherish the little joys in life"],
      ["è€Œä¸æ˜¯æ€¥äºäº‰è¾©", "instead of rushing to argue"],
      ["æ¯ä¸€ç§’é’Ÿéƒ½å¾ˆå…³é”®", "every second matters"],
      ["ä¸èƒ½ä¸€æ¦‚è€Œè®º", "it depends"],
      ["åº”è¯¥è¾©è¯åœ°çœ‹", "take a balanced view"],
      ["äº‹æƒ…æ²¡é‚£ä¹ˆç®€å•", "it's not black and white"],
      ["æˆ‘ä¸æƒ³è°ˆè®ºè¿™ä¸ª", "i'd rather not get into it"],
      ["è¿™æ²¡æœ‰å•†é‡ä½™åœ°", "this is non-negotiable"],
      ["æˆ‘çš„å›ç­”ä¾ç„¶æ˜¯\"ä¸\"", "my answer is still no"],
      ["å¬èµ·æ¥çœŸçš„å¾ˆéš¾", "that sounds really tough"],
      ["ä¼‘æ¯ä¹Ÿæ˜¯å·¥ä½œçš„ä¸€éƒ¨åˆ†", "rest is part of the work"],
      ["æ¯”è¾ƒæ˜¯å¿«ä¹çš„å°å·", "comparison is the thief of joy"],
      ["çœŸæ­£çš„é—®é¢˜æ˜¯ä»€ä¹ˆ", "what's the real issue here"],
      ["èšç„¦è§£å†³æ–¹æ¡ˆï¼Œè€ŒéæŒ‡è´£", "let's focus on solutions, not blame"],
      ["æˆ‘ä»¬æœ‰ä»€ä¹ˆè¯æ®", "what evidence do we have"],
      ["è¿™æ˜¯æˆ‘çš„è´£ä»»", "that's on me"],
      ["ä»Šå¤©å°±åˆ°è¿™å„¿å§", "let's call it a day"],
      ["è¿™æ‰å¯¹å˜›", "that's the spirit"],
      ["å°½é‡å¤šçœ‹ä»–çš„é•¿å¤„", "focus on his strengths"],
      ["ä½ çœŸçš„è¿™ä¹ˆè§‰å¾—å—", "do you really feel that way"],
      ["æˆ‘æ˜¯ä¸æ˜¯å“ªé‡Œåšé”™äº†", "did I do something wrong"],
      ["è¿™çœŸçš„æœ‰å¿…è¦å—", "Is this really necessary"],
      ["ä½ ä¸ºä»€ä¹ˆ", "why are you"],
      ["ä½ æ€ä¹ˆ", "how come you"],
      ["æˆ‘æ˜¯ä¸æ˜¯åº”è¯¥", "am I supposed to"],
      ["è¿™äº‹æœ‰ç‚¹å¤æ‚", "it's kind of complicated"],
      ["æˆ‘è¿˜æ²¡æƒ³å¥½å‘¢", "I'm not sure yet"],
      ["è®©æˆ‘æƒ³æƒ³", "let me think about that"]
    ];

    // çŠ¶æ€ç®¡ç†
    let state = {
      cards: [],
      currentIndex: 0,
      starred: new Set(),
      isViewingStarred: false,
      originalOrder: [],
      previousState: null,
      zoomLevel: 1
    };

    // æ„å»ºå¡ç‰‡
    function buildCards() {
      const cards = [];
      for (let i = 0; i < englishPhrases.length; i++) {
        const [front, back] = englishPhrases[i];
        cards.push({ text: front, type: 'zh', index: i });
        cards.push({ text: back, type: 'en', index: i });
      }
      return cards;
    }

    // æ›´æ–°å¡ç‰‡æ˜¾ç¤º
    function updateCard() {
      if (state.cards.length === 0) {
        document.getElementById('card-text').textContent = 'No cards available';
        document.getElementById('progress').textContent = '0 / 0';
        document.querySelector('.progress-fill').style.width = '0%';
        return;
      }

      const card = state.cards[state.currentIndex];
      document.getElementById('card-text').textContent = card.text;
      
      // æ ¹æ®æ˜¯å¦æŸ¥çœ‹æ”¶è—æ¥æ˜¾ç¤ºä¸åŒçš„æ€»æ•°
      const totalCards = state.isViewingStarred ? state.cards.length : 550;
      document.getElementById('progress').textContent = `${state.currentIndex + 1} / ${totalCards}`;
      document.querySelector('.progress-fill').style.width = `${((state.currentIndex + 1) / state.cards.length) * 100}%`;
      
      const star = document.getElementById('star');
      if (state.starred.has(card.index)) {
        star.classList.add('active');
      } else {
        star.classList.remove('active');
      }
    }

    // ä¸‹ä¸€å¼ å¡ç‰‡
    function nextCard() {
      if (state.cards.length === 0) return;
      state.currentIndex = (state.currentIndex + 1) % state.cards.length;
      updateCard();
    }

    // ä¸Šä¸€å¼ å¡ç‰‡
    function prevCard() {
      if (state.cards.length === 0) return;
      state.currentIndex = (state.currentIndex - 1 + state.cards.length) % state.cards.length;
      updateCard();
    }

    // æ”¶è—/å–æ¶ˆæ”¶è—
    function toggleStar() {
      const currentCard = state.cards[state.currentIndex];
      
      if (state.isViewingStarred) {
        if (state.starred.has(currentCard.index)) {
          state.starred.delete(currentCard.index);
          
          const newCards = [];
          for (let i = 0; i < state.cards.length; i++) {
            const card = state.cards[i];
            if (state.starred.has(card.index)) {
              newCards.push(card);
            }
          }
          
          state.cards = newCards;
          
          if (state.currentIndex >= state.cards.length) {
            state.currentIndex = Math.max(0, state.cards.length - 1);
          }
          
          if (state.cards.length === 0) {
            resetCards();
            return;
          }
          
          updateCard();
        }
      } else {
        if (!state.starred.has(currentCard.index)) {
          state.starred.add(currentCard.index);
          updateCard();
        }
      }
    }

    // é‡ç½®åˆ°åŸå§‹é¡ºåº
    function resetCards() {
      state.isViewingStarred = false;
      state.previousState = null;
      state.cards = [...state.originalOrder];
      state.currentIndex = 0;
      updateCard();
    }

    // éšæœºæ’åº
    function shuffleCards() {
      state.isViewingStarred = false;
      state.previousState = null;
      const shuffledPhrases = [...englishPhrases].sort(() => Math.random() - 0.5);
      state.cards = [];
      for (let i = 0; i < shuffledPhrases.length; i++) {
        const [front, back] = shuffledPhrases[i];
        state.cards.push({ text: front, type: 'zh', index: i });
        state.cards.push({ text: back, type: 'en', index: i });
      }
      state.currentIndex = 0;
      updateCard();
    }

    // æŸ¥çœ‹æ”¶è—
    function viewStarred() {
      if (state.starred.size === 0) {
        alert('No starred items yet!');
        return;
      }
      
      state.previousState = {
        cards: [...state.cards],
        currentIndex: state.currentIndex,
        isViewingStarred: state.isViewingStarred
      };
      
      state.isViewingStarred = true;
      
      const newCards = [];
      for (let i = 0; i < state.cards.length; i++) {
        const card = state.cards[i];
        if (state.starred.has(card.index)) {
          newCards.push(card);
        }
      }
      
      state.cards = newCards;
      state.currentIndex = 0;
      updateCard();
    }

    // å¤„ç†å¡ç‰‡ç‚¹å‡»äº‹ä»¶
    function handleCardClick(event) {
      const card = document.getElementById('card');
      const rect = card.getBoundingClientRect();
      const clickX = event.clientX - rect.left;
      const cardWidth = rect.width;
      
      if (clickX < cardWidth / 2) {
        prevCard();
      } else {
        nextCard();
      }
    }

    // ç¼©æ”¾åŠŸèƒ½
    function setZoom(level) {
      state.zoomLevel = Math.max(0.5, Math.min(2, level));
      document.getElementById('appContainer').style.transform = `scale(${state.zoomLevel})`;
      document.getElementById('zoomIndicator').textContent = `${Math.round(state.zoomLevel * 100)}%`;
    }

    function zoomIn() {
      setZoom(state.zoomLevel + 0.1);
    }

    function zoomOut() {
      setZoom(state.zoomLevel - 0.1);
    }

    // åˆå§‹åŒ–åº”ç”¨
    function initApp() {
      console.log('Initializing app...');
      
      // åˆå§‹åŒ–æ•°æ®
      state.cards = buildCards();
      state.originalOrder = [...state.cards];
      
      console.log('å®é™…å¡ç‰‡æ•°é‡:', state.cards.length);
      
      // ç»‘å®šäº‹ä»¶
      document.getElementById('nextBtn').addEventListener('click', nextCard);
      document.getElementById('prevBtn').addEventListener('click', prevCard);
      document.getElementById('starBtn').addEventListener('click', toggleStar);
      document.getElementById('resetBtn').addEventListener('click', resetCards);
      document.getElementById('shuffleBtn').addEventListener('click', shuffleCards);
      document.getElementById('bookmarksBtn').addEventListener('click', viewStarred);
      document.getElementById('star').addEventListener('click', toggleStar);
      document.getElementById('card').addEventListener('click', handleCardClick);
      
      // ç¼©æ”¾æ§åˆ¶
      document.getElementById('zoomInBtn').addEventListener('click', zoomIn);
      document.getElementById('zoomOutBtn').addEventListener('click', zoomOut);
      
      // åŒæŒ‡æåˆç¼©æ”¾
      let initialDistance = 0;
      let initialZoom = 1;
      
      const handleTouchStart = (e) => {
        if (e.touches.length === 2) {
          initialDistance = Math.hypot(
            e.touches[0].clientX - e.touches[1].clientX,
            e.touches[0].clientY - e.touches[1].clientY
          );
          initialZoom = state.zoomLevel;
        }
      };
      
      const handleTouchMove = (e) => {
        if (e.touches.length === 2) {
          const currentDistance = Math.hypot(
            e.touches[0].clientX - e.touches[1].clientX,
            e.touches[0].clientY - e.touches[1].clientY
          );
          
          if (initialDistance > 0) {
            const scale = currentDistance / initialDistance;
            const newZoom = initialZoom * scale;
            setZoom(Math.max(0.5, Math.min(2, newZoom)));
          }
        }
      };
      
      const handleTouchEnd = () => {
        initialDistance = 0;
      };
      
      const appContainer = document.getElementById('appContainer');
      appContainer.addEventListener('touchstart', handleTouchStart);
      appContainer.addEventListener('touchmove', handleTouchMove);
      appContainer.addEventListener('touchend', handleTouchEnd);
      
      updateCard();
      console.log('App initialized successfully!');
    }

    // å¯åŠ¨åº”ç”¨
    document.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>
</html>